version: "3.8"
services:
  redpanda:
      image: docker.redpanda.com/redpandadata/redpanda:latest
      command: >
        redpanda start
        --overprovisioned
        --smp 1
        --memory 1G
        --reserve-memory 0M
        --node-id 0
        --check=false
        --kafka-addr 0.0.0.0:9092
        --advertise-kafka-addr 127.0.0.1:9092
      ports:
        - "9092:9092"
        - "9644:9644"


  postgres:
    image: postgres:16
    environment:
      POSTGRES_USER: app
      POSTGRES_PASSWORD: app
      POSTGRES_DB: events
    ports: ["5432:5432"]
